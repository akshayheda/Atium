<html>
    <div id="container-floating">
        <div class="nd3 nds" data-toggle="tooltip" data-placement="left" data-original-title="contract@gmail.com" onmouseover="hoverSummary()"><img class="reminder">
            <img class="reminder" src="https://docs.google.com/uc?id=1aGRGnuDNrDg6MDXCkaav3b2S25rZoz2C" />
            <div id="meme2" style="display: none">
                <u1 class="list-group">
                    <li id="summarized" class="list-group-item">
                        Loading...
                    </li>
                </u1>
            </div>
        </div>
        <div class="nd1 nds" data-toggle="tooltip" data-placement="left" data-original-title="Edoardo@live.it" onmouseover="hoverURLs()"><img class="reminder">
            <img class="reminder" src="https://docs.google.com/uc?id=1k9XqJ8T3mdse8lu5NR_zY2Z8zLu0RN0E" />
            
            <div id="meme" style="display: none">
                <ul class="list-group">
                    <li id="link1" class="list-group-item">Loading...</li>
                    <li id="link2" class="list-group-item">Loading...</li>
                    <li id="link3" class="list-group-item">Loading...</li>
                    <li id="link4" class="list-group-item">Loading...</li>
                    <li id="link5" class="list-group-item">Loading...</li>
                </ul>
            </div>
        </div>
        
        <div id="floating-button" data-toggle="tooltip" data-placement="left" data-original-title="Create" onclick="clickedPlus()">
            <p id="plusid" class="plus">+</p>
        </div>
    </div>

    <script>
        console.log("should have made the floaty boi");
        
        window.onload = function(){
            noURLs();
            noSummary();
        }

        var checker = setInterval(checkerFunction, 200)
        function checkerFunction(){
            console.log("iterating");
            if(document.getElementById("summarized").textContent === "Loading..."){
                document.getElementById("floating-button").style.background = "#444444";
                if(document.getElementById("plusid").textContent === "..."){
                    document.getElementById("plusid").textContent = " ..";
                } else if (document.getElementById("plusid").textContent === " .."){
                    document.getElementById("plusid").textContent = ". .";
                } else if (document.getElementById("plusid").textContent === ". ."){
                    document.getElementById("plusid").textContent = ".. ";
                } else if (document.getElementById("plusid").textContent === ".. "){
                    document.getElementById("plusid").textContent = "..."
                }
            } else {
                document.getElementById("floating-button").style.background = "#db4437";
                clearInterval(checker);
            }
        }

        function no_u(){
            noURLs();
            noSummary();
        }

        function noSummary(){
            document.getElementById("meme2").style.display = "none";                
        }

        function hoverSummary(){
            noURLs();
            document.getElementById("meme2").style.display = "block";
            document.getElementById("summarized").textContent = JSON.parse(localStorage.getItem('link')).summary;
        }

        function noURLs(){
            document.getElementById("meme").style.display = "none";
        }

        function hoverURLs(){
            noSummary();
            document.getElementById("meme").style.display = "block";
            document.getElementById("link1").textContent = JSON.parse(localStorage.getItem('link')).links[0].name;
            document.getElementById("link1").onclick = function(){
                window.open(JSON.parse(localStorage.getItem('link')).links[0].url);
            }
            document.getElementById("link2").textContent = JSON.parse(localStorage.getItem('link')).links[1].name;
            document.getElementById("link2").onclick = function(){
                window.open(JSON.parse(localStorage.getItem('link')).links[1].url);
            }
            document.getElementById("link3").textContent = JSON.parse(localStorage.getItem('link')).links[2].name;
            document.getElementById("link3").onclick = function(){
                window.open(JSON.parse(localStorage.getItem('link')).links[2].url);
            }
            document.getElementById("link4").textContent = JSON.parse(localStorage.getItem('link')).links[3].name;
            document.getElementById("link4").onclick = function(){
                window.open(JSON.parse(localStorage.getItem('link')).links[3].url);
            }
            document.getElementById("link5").textContent = JSON.parse(localStorage.getItem('link')).links[4].name;
            document.getElementById("link5").onclick = function(){
                window.open(JSON.parse(localStorage.getItem('link')).links[4].url);
            }
        }

        function clickedPlus(){
            console.log("Clicked plus.");
        }
    </script>
</html>